{"remainingRequest":"/Users/alex/Projects/use-events/node_modules/docz-core/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"/Users/alex/Projects/use-events/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":false,\"typescript\":true,\"parseProps\":false}]],\"plugins\":[[\"/Users/alex/Projects/use-events/node_modules/docz-core/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}]],\"babelrc\":false,\"cacheCompression\":true,\"compact\":true}!/Users/alex/Projects/use-events/src/useClickOutside/index.tsx","dependencies":[{"path":"/Users/alex/Projects/use-events/src/useClickOutside/index.tsx","mtime":1554392705415},{"path":"/Users/alex/Projects/use-events/node_modules/cache-loader/dist/cjs.js","mtime":1549050405500},{"path":"/Users/alex/Projects/use-events/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1548880828159}],"contextDependencies":[],"result":["function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i[\"return\"]!=null)_i[\"return\"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}import*as React from'react';import{useDeepCompareEffect}from'use-deep-compare';var useClickOutside=function useClickOutside(refs,onClickOutside){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isActive=_React$useState2[0],setActive=_React$useState2[1];useDeepCompareEffect(function(){var mousedown=function mousedown(e){var test=refs.map(function(ref){return ref.current!==null&&!ref.current.contains(e.target);});if(test.every(Boolean)){setActive(true);onClickOutside(e);}};var mouseup=function mouseup(e){var test=refs.map(function(ref){return ref.current!==null&&!ref.current.contains(e.target);});if(test.every(Boolean)){setActive(false);}};document.addEventListener('mousedown',mousedown);document.addEventListener('mouseup',mouseup);return function(){document.removeEventListener('mousedown',mousedown);document.removeEventListener('mouseup',mouseup);};},[refs,onClickOutside]);return[isActive];};export default useClickOutside;",{"version":3,"sources":["/Users/alex/Projects/use-events/src/useClickOutside/index.tsx"],"names":["React","useDeepCompareEffect","useClickOutside","refs","onClickOutside","useState","isActive","setActive","mousedown","e","test","map","ref","current","contains","target","every","Boolean","mouseup","document","addEventListener","removeEventListener"],"mappings":"ymBAAA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CACA,OAASC,oBAAT,KAAqC,kBAArC,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CACtBC,IADsB,CAEtBC,cAFsB,CAGR,qBACgBJ,KAAK,CAACK,QAAN,CAAe,KAAf,CADhB,oDACPC,QADO,qBACGC,SADH,qBAGdN,oBAAoB,CAAC,UAAM,CACzB,GAAMO,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,CAAD,CAAmB,CACnC,GAAMC,CAAAA,IAAI,CAAGP,IAAI,CAACQ,GAAL,CAAS,SAAAC,GAAG,CAAI,CAC3B,MACEA,CAAAA,GAAG,CAACC,OAAJ,GAAgB,IAAhB,EAAwB,CAACD,GAAG,CAACC,OAAJ,CAAYC,QAAZ,CAAqBL,CAAC,CAACM,MAAvB,CAD3B,CAGD,CAJY,CAAb,CAMA,GAAIL,IAAI,CAACM,KAAL,CAAWC,OAAX,CAAJ,CAAyB,CACvBV,SAAS,CAAC,IAAD,CAAT,CACAH,cAAc,CAACK,CAAD,CAAd,CACD,CACF,CAXD,CAaA,GAAMS,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACT,CAAD,CAAmB,CACjC,GAAMC,CAAAA,IAAI,CAAGP,IAAI,CAACQ,GAAL,CAAS,SAAAC,GAAG,CAAI,CAC3B,MACEA,CAAAA,GAAG,CAACC,OAAJ,GAAgB,IAAhB,EAAwB,CAACD,GAAG,CAACC,OAAJ,CAAYC,QAAZ,CAAqBL,CAAC,CAACM,MAAvB,CAD3B,CAGD,CAJY,CAAb,CAMA,GAAIL,IAAI,CAACM,KAAL,CAAWC,OAAX,CAAJ,CAAyB,CACvBV,SAAS,CAAC,KAAD,CAAT,CACD,CACF,CAVD,CAYAY,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,CAAuCZ,SAAvC,EACAW,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,CAAqCF,OAArC,EAEA,MAAO,WAAM,CACXC,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,CAA0Cb,SAA1C,EACAW,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,CAAwCH,OAAxC,EACD,CAHD,CAID,CAjCmB,CAiCjB,CAACf,IAAD,CAAOC,cAAP,CAjCiB,CAApB,CAmCA,MAAO,CAACE,QAAD,CAAP,CACD,CA1CD,CA4CA,cAAeJ,CAAAA,eAAf","sourcesContent":["import * as React from 'react';\nimport { useDeepCompareEffect } from 'use-deep-compare';\n\nconst useClickOutside = (\n  refs: React.RefObject<HTMLElement>[],\n  onClickOutside: (e: MouseEvent) => void\n): [boolean] => {\n  const [isActive, setActive] = React.useState(false);\n\n  useDeepCompareEffect(() => {\n    const mousedown = (e: MouseEvent) => {\n      const test = refs.map(ref => {\n        return (\n          ref.current !== null && !ref.current.contains(e.target as HTMLElement)\n        );\n      });\n\n      if (test.every(Boolean)) {\n        setActive(true);\n        onClickOutside(e);\n      }\n    };\n\n    const mouseup = (e: MouseEvent) => {\n      const test = refs.map(ref => {\n        return (\n          ref.current !== null && !ref.current.contains(e.target as HTMLElement)\n        );\n      });\n\n      if (test.every(Boolean)) {\n        setActive(false);\n      }\n    };\n\n    document.addEventListener('mousedown', mousedown);\n    document.addEventListener('mouseup', mouseup);\n\n    return () => {\n      document.removeEventListener('mousedown', mousedown);\n      document.removeEventListener('mouseup', mouseup);\n    };\n  }, [refs, onClickOutside]);\n\n  return [isActive];\n};\n\nexport default useClickOutside;\n"]}]}